(let ((app (q-application-new (length (command-line)) (command-line)))
      (view (q-web-view-new))
      (window (q-main-window-new))
      (toolbar (q-tool-bar-new))
      (urlbar (q-line-edit-new)))
  (q-connect urlbar "returnPressed" '()
    (lambda ()
      (let* ((text (q-line-edit-text urlbar))
	     (url (if (< (q-string-index-of text (q-string-new "://") 0))
		      (q-url-new (q-string-prepend text "http://"))
		      (q-url-new text))))
	(q-web-view-load view url))))
  (q-tool-bar-add-widget toolbar urlbar)
  (q-main-window-add-tool-bar window toolbar)
  (q-main-window-set-central-widget window view)
  (q-main-window-show window)
  (q-application-exec app))
